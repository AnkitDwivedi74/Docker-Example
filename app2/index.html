<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>App2</title>

</head>

<body>

    <h1>Hello from App2!</h1>



    <script>

        const http = require('http');



        const server = http.createServer((req, res) => {

            // Allow requests from any origin

            res.setHeader('Access-Control-Allow-Origin', '*');

            res.setHeader('Access-Control-Allow-Methods', 'POST');

            res.setHeader('Access-Control-Allow-Headers', 'Content-Type');



            if (req.method === 'POST' && req.url === '/receive-data') {

                let data = '';



                req.on('data', (chunk) => {

                    data += chunk;

                });



                req.on('end', () => {

                    const message = JSON.parse(data).message;

                    const response = { response: `Received message from App1: ${message}` };



                    res.writeHead(200, { 'Content-Type': 'application/json' });

                    res.end(JSON.stringify(response));

                });

            } else {

                res.writeHead(404, { 'Content-Type': 'text/plain' });

                res.end('Not Found');

            }

        });



        server.listen(80, () => {

            console.log('App2 listening on port 80');

        });

    </script>

</body>

</html>


